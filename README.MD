# Tetris em Go üéÆ

Bem-vindo ao **Tetris em Go**! Este √© um projeto open-source que recria o cl√°ssico jogo Tetris usando a linguagem de programa√ß√£o Go (Golang). Com uma interface baseada em texto no terminal, o jogo traz todas as funcionalidades que voc√™ espera: tabuleiro 10x20, sete pe√ßas ic√¥nicas, rota√ß√£o, pontua√ß√£o e n√≠veis de dificuldade crescentes. Desenvolvido para ser simples, eficiente e divertido, este Tetris √© perfeito para entusiastas de programa√ß√£o e f√£s de jogos retr√¥.

O objetivo deste reposit√≥rio √© compartilhar uma implementa√ß√£o funcional de Tetris, demonstrando o poder de Go para criar jogos leves e perform√°ticos. Se voc√™ √© iniciante em Go ou quer explorar desenvolvimento de jogos, este projeto √© um √≥timo ponto de partida. Vamos aprender como rodar o jogo e mergulhar nos detalhes!

---

## Screenshots

![Tetris](pictures/01.png)
![Tetris](pictures/02.png)
![Tetris](pictures/03.png)

--- 

## Caracter√≠sticas

- **Tabuleiro**: Grade padr√£o de 10 colunas por 20 linhas.
- **Pe√ßas**: Inclui as sete formas cl√°ssicas (I, J, L, O, S, T, Z) com rota√ß√µes em 90 graus.
- **Mec√¢nicas**: Queda autom√°tica das pe√ßas, movimento lateral, rota√ß√£o e limpeza de linhas completas.
- **Pontua√ß√£o**: 40 pontos por uma linha, 100 por duas, 300 por tr√™s, 1200 por quatro, com aumento de velocidade por n√≠vel.
- **Interface**: UI colorida no terminal, centralizada, com contorno e informa√ß√µes (score, n√≠vel, pr√≥xima pe√ßa).
- **Controles**:
  - Setas esquerda/direita: mover pe√ßa.
  - Seta para baixo: acelerar queda.
  - Seta para cima ou espa√ßo: rotacionar pe√ßa.
  - 'P' ou 'Esc': pausar/retomar.
  - 'R': reiniciar ap√≥s "Game Over".
  - 'Q' ou 'Ctrl+C': sair.

---

## Pr√©-requisitos

Para rodar o jogo, voc√™ precisar√° de:
- **Go**: Vers√£o 1.16 ou superior. [Baixe aqui](https://golang.org/dl/).
- **Git**: Para clonar o reposit√≥rio. [Instale aqui](https://git-scm.com/downloads).
- **Terminal**: Qualquer terminal compat√≠vel (Linux, macOS, Windows com WSL ou PowerShell).

Nenhuma experi√™ncia pr√©via em Go √© necess√°ria ‚Äî vamos gui√°-lo passo a passo!

---

## Como Rodar o Jogo (Guia para Iniciantes)

Siga estas instru√ß√µes para jogar Tetris no seu computador. N√£o se preocupe, √© simples!

### 1. Clone o Reposit√≥rio
Abra seu terminal e clone este reposit√≥rio:

```bash
git clone https://github.com/chmenegatti/tetris.git
cd tetris
```

Isso baixa o c√≥digo para uma pasta chamada `tetris` e entra nela.

### 2. Instale a Depend√™ncia
O jogo usa a biblioteca `termbox-go` (via `tcell`) para renderizar no terminal. Instale-a com:

```bash
go get github.com/gdamore/tcell/v2/termbox
```

Se voc√™ estiver usando Go Modules (recomendado), esse comando atualizar√° o arquivo `go.mod` automaticamente.

### 3. Compile o Jogo
Agora, compile o c√≥digo em um execut√°vel:

```bash
go build
```

Isso cria um arquivo chamado `tetris` (ou `tetris.exe` no Windows) na pasta atual.

### 4. Execute o Jogo
Rode o jogo com:

```bash
./tetris
```

No Windows, use:

```bash
tetris.exe
```

Alternativamente, voc√™ pode pular a compila√ß√£o e rodar diretamente:

```bash
go run .
```

### 5. Jogue!
- Use as setas para mover e rotacionar as pe√ßas.
- Pressione 'P' ou 'Esc' para pausar, 'R' para reiniciar ap√≥s "Game Over", e 'Q' para sair.
- Tente alcan√ßar a maior pontua√ß√£o poss√≠vel!

---

## Estrutura do C√≥digo

O projeto √© organizado em cinco arquivos principais, cada um com uma responsabilidade clara:

- **`main.go`**: Ponto de entrada. Gerencia o loop principal, eventos de teclado e o ticker para a queda das pe√ßas.
  - Exemplo: O loop usa uma goroutine para capturar eventos enquanto o ticker atualiza o jogo.
- **`board.go`**: Define o tabuleiro 10x20 como uma matriz `[20][10]int`. Inclui fun√ß√µes para verificar colis√µes (`CanPlacePiece`), fixar pe√ßas (`PlacePiece`) e limpar linhas (`ClearLines`).
- **`piece.go`**: Cont√©m a defini√ß√£o das sete pe√ßas como matrizes 4x4, com rota√ß√µes e cores. A fun√ß√£o `NewPiece` gera pe√ßas aleat√≥rias.
- **`game.go`**: Gerencia a l√≥gica do jogo: estados (`Playing`, `Paused`, `GameOver`), movimento, rota√ß√£o e pontua√ß√£o.
  - Exemplo: `Update` controla a descida autom√°tica e verifica "Game Over".
- **`render.go`**: Renderiza o tabuleiro, pe√ßas e informa√ß√µes no terminal usando `termbox-go`. Inclui ajustes para propor√ß√£o e cores.

---

## Detalhes T√©cnicos

Aqui est√° uma vis√£o mais profunda de como o jogo funciona:

### Tabuleiro (`board.go`)
O tabuleiro √© uma matriz bidimensional onde `0` representa c√©lulas vazias e valores de 1 a 7 indicam pe√ßas fixadas com suas respectivas cores. A fun√ß√£o `ClearLines` √© um destaque:

```go
func (b *Board) ClearLines() int {
    linesCleared := 0
    for i := 0; i < BoardHeight; i++ {
        full := true
        for j := 0; j < BoardWidth; j++ {
            if b.Grid[i][j] == 0 {
                full = false
                break
            }
        }
        if full {
            linesCleared++
            for k := i; k > 0; k-- {
                b.Grid[k] = b.Grid[k-1]
            }
            b.Grid[0] = [BoardWidth]int{}
        }
    }
    return linesCleared
}
```

### Pe√ßas (`piece.go`)
As pe√ßas s√£o definidas como slices de matrizes 4x4, com cada rota√ß√£o pr√©-calculada. Por exemplo, a pe√ßa "I":

```go
{
    Shape: [][4][4]int{
        {{0, 0, 0, 0}, {1, 1, 1, 1}, {0, 0, 0, 0}, {0, 0, 0, 0}}, // Horizontal
        {{0, 0, 1, 0}, {0, 0, 1, 0}, {0, 0, 1, 0}, {0, 0, 1, 0}}, // Vertical
    },
    Color: 1, // Ciano
},
```

### L√≥gica do Jogo (`game.go`)
O m√©todo `Update` √© o cora√ß√£o do jogo, controlando a descida e a transi√ß√£o para a pr√≥xima pe√ßa:

```go
func (g *Game) Update() {
    if !g.Board.CanPlacePiece(g.Current, g.Current.X, g.Current.Y+1) {
        g.Board.PlacePiece(g.Current, g.Current.X, g.Current.Y)
        lines := g.Board.ClearLines()
        g.updateScore(lines)
        g.Current = g.Next
        g.Next = NewPiece()
        g.Current.X, g.Current.Y = BoardWidth/2-2, 0
        if !g.Board.CanPlacePiece(g.Current, g.Current.X, g.Current.Y) {
            g.State = GameOver
        }
    } else {
        g.Current.Y++
    }
}
```

### Pontua√ß√£o (`game.go`)
A pontua√ß√£o segue o padr√£o cl√°ssico, com velocidade ajustada por n√≠vel:

```go
func (g *Game) updateScore(lines int) {
    switch lines {
    case 1: g.Score += 40 * g.Level
    case 2: g.Score += 100 * g.Level
    case 3: g.Score += 300 * g.Level
    case 4: g.Score += 1200 * g.Level
    }
    g.Level = g.Score/1000 + 1
    g.Speed = time.Duration(500-(g.Level-1)*50) * time.Millisecond
}
```

### Renderiza√ß√£o (`render.go`)
A renderiza√ß√£o usa `termbox-go` para desenhar o tabuleiro com duas c√©lulas por bloco, garantindo propor√ß√£o:

```go
for y := 0; y < BoardHeight; y++ {
    for x := 0; x < BoardWidth; x++ {
        if g.Board.Grid[y][x] != 0 {
            color := getColor(g.Board.Grid[y][x])
            termbox.SetCell(boardXOffset+x*2, boardYOffset+y, '‚ñà', color, termbox.ColorBlack)
            termbox.SetCell(boardXOffset+x*2+1, boardYOffset+y, '‚ñà', color, termbox.ColorBlack)
        }
    }
}
```

---

## Contribuindo

Quer melhorar o Tetris? Sinta-se √† vontade para contribuir! Aqui est√° como:

1. Fa√ßa um fork do reposit√≥rio.
2. Crie uma branch para sua feature (`git checkout -b minha-feature`).
3. Fa√ßa suas altera√ß√µes e commit (`git commit -m "Adicionei tal coisa"`).
4. Envie para seu fork (`git push origin minha-feature`).
5. Abra um Pull Request descrevendo suas mudan√ßas.

Sugest√µes de melhorias:
- Adicionar um menu inicial.
- Implementar um ranking de pontua√ß√£o.
- Suporte a temas visuais no terminal.

---

## Problemas Comuns e Solu√ß√µes

- **Erro "module not found"**: Certifique-se de rodar `go get github.com/gdamore/tcell/v2/termbox`.
- **Jogo n√£o abre**: Verifique se o Go est√° instalado (`go version`) e se voc√™ compilou com `go build`.
- **Cores estranhas**: Depende do terminal; tente em um terminal moderno como WSL ou iTerm2.

---

## Licen√ßa

Este projeto √© licenciado sob a [MIT License](LICENSE). Use, modifique e distribua √† vontade!

---

## Agradecimentos

Obrigado por conferir este Tetris em Go! Este projeto foi uma jornada divertida de aprendizado e nostalgia. Se voc√™ gostou, deixe uma ‚≠ê no reposit√≥rio e compartilhe suas ideias. Divirta-se jogando e programando!

## Licen√ßa

Este projeto √© licenciado sob a licen√ßa MIT - veja o arquivo [LICENSE](LICENSE) para mais detalhes.
